(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["create"],{"11ca":function(t,e,i){t.exports=i.p+"img/eraser.b10e56c0.svg"},"27b1":function(t,e,i){},"396f":function(t,e,i){"use strict";i("27b1")},"3d59":function(t,e,i){"use strict";i("a07f")},"5fed":function(t,e,i){t.exports=i.p+"img/line.a9cbf907.svg"},6369:function(t,e,i){t.exports=i.p+"img/download.3263e036.svg"},"6f2b":function(t,e,i){t.exports=i.p+"img/share.65337b03.svg"},"81d5":function(t,e,i){"use strict";var o=i("7b0b"),s=i("23cb"),n=i("50c4");t.exports=function(t){var e=o(this),i=n(e.length),a=arguments.length,c=s(a>1?arguments[1]:void 0,i),r=a>2?arguments[2]:void 0,l=void 0===r?i:s(r,i);while(l>c)e[c++]=t;return e}},a07f:function(t,e,i){},bf9f:function(t,e,i){t.exports=i.p+"img/circle.2b0af109.svg"},c3c0:function(t,e,i){t.exports=i.p+"img/brush.fb666399.svg"},cb29:function(t,e,i){var o=i("23e7"),s=i("81d5"),n=i("44d2");o({target:"Array",proto:!0},{fill:s}),n("fill")},ce60:function(t,e,i){t.exports=i.p+"img/undo.878b24c2.svg"},d739:function(t,e,i){t.exports=i.p+"img/delete.650cdc57.svg"},d879:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"draw_wrapper"},[i("Tools",{ref:"sett",on:{selectTool:t.select,stroke:t.strokeValue,setColor:t.setColor,saveImgs:t.saveImgs,clear:t.clear,undo:t.undo,download:t.downloadImg}}),i("canvas",{ref:"myCanvas",attrs:{id:"myCanvas",width:"500px",height:"500px"},on:{mousedown:function(e){return t.onMouseDown(e)},mousemove:function(e){return t.onMouseMove(e)},mouseup:function(e){return t.onMouseUp(e)}}})],1)])},s=[],n=i("5530"),a=(i("cb29"),i("2f62")),c=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tools_wrapper"},[i("div",{staticClass:"input_wrapper"},[i("label",{attrs:{for:"size"}},[t._v("Size")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.Size,expression:"Size"}],attrs:{id:"size",type:"number",min:"1",max:"200",autocomplete:t.Size},domProps:{value:t.Size},on:{change:function(e){return t.$emit("stroke",t.Size)},input:function(e){e.target.composing||(t.Size=e.target.value)}}})]),i("div",{staticClass:"input_wrapper"},[i("label",{attrs:{for:"color"}},[t._v("Color")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.Color,expression:"Color"}],staticClass:"color_input",attrs:{id:"color",type:"color"},domProps:{value:t.Color},on:{change:t.setColor,input:function(e){e.target.composing||(t.Color=e.target.value)}}}),i("span",[t._v(t._s(this.Color))])]),i("div",{staticClass:"btn_wrapper"},t._l(t.buttons,(function(e,o){return i("button",{key:o,staticClass:"tool_btn",class:{active:t.Tool===""+e.name},on:{click:function(i){return t.select(e.name)}}},[i("img",{attrs:{src:e.icon,alt:"",width:"30px",height:"auto"}}),i("span",[t._v(t._s(e.placeholder))])])})),0),i("p",[t._v("Tool: "+t._s(t.Tool))]),i("div",{staticClass:"main_buttons"},t._l(t.mainButtons,(function(e,o){return i("button",{key:o,staticClass:"main_btn",class:{active:t.Tool===""+e.name},on:{click:function(i){return t.$emit(e.event)}}},[i("img",{attrs:{src:e.icon,alt:"",width:"30px",height:"auto"}}),i("span",[t._v(t._s(e.placeholder))])])})),0)])},l=[],h=c["a"].extend({data:function(){return{Size:3,Color:"#000000",Tool:"brush",buttons:[{name:"brush",placeholder:"Brush",icon:i("c3c0")},{name:"rect",placeholder:"Rect",icon:i("e823")},{name:"circle",placeholder:"Circle",icon:i("bf9f")},{name:"line",placeholder:"Line",icon:i("5fed")},{name:"eraser",placeholder:"Eraser",icon:i("11ca")}],mainButtons:[{name:"share",placeholder:"Share",icon:i("6f2b"),event:"saveImgs"},{name:"undo",placeholder:"Undo",icon:i("ce60"),event:"undo"},{name:"download",placeholder:"Download",icon:i("6369"),event:"download"},{name:"clear",placeholder:"Clear",icon:i("d739"),event:"clear"}]}},methods:{select:function(t){this.Tool=t,this.$emit("selectTool",this.Tool)},setColor:function(){this.$emit("setColor",this.Color)}}}),u=h,d=(i("3d59"),i("2877")),p=Object(d["a"])(u,r,l,!1,null,"275a1457",null),f=p.exports,v=i("1601"),m=c["a"].extend({components:{Tools:f},data:function(){return{tool:"brush",color:"black",pathArray:[],idx:-1,size:3,x:0,y:0,isDrawing:!1,rect:{},ctx:{},canvas:{}}},methods:Object(n["a"])(Object(n["a"])({},Object(a["b"])("posts",["saveImg","saveData"])),{},{downloadImg:function(){var t=this.$refs.myCanvas,e=t.toDataURL(),i=document.createElement("a");i.href=e,i.download="unnamed",document.body.appendChild(i),i.click()},setColor:function(t){this.color=t},select:function(t){this.tool=t},strokeValue:function(t){this.size=t},onMouseDown:function(t){this.x=t.clientX-this.rect.left,this.y=t.clientY-this.rect.top,this.isDrawing=!0,"brush"===this.tool&&this.draw(t,"black")},onMouseUp:function(t){this.isDrawing=!1;var e=t.clientX-this.rect.left,i=t.clientY-this.rect.top;switch(this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y),this.ctx.lineWidth=this.size,this.ctx.lineCap="round",this.ctx.strokeStyle=this.color,this.tool){case"rect":this.ctx.rect(this.x,this.y,e-this.x,i-this.y),this.ctx.fillStyle=this.color,this.ctx.fill();break;case"circle":this.ctx.arc(this.x,this.y,Math.pow(Math.pow(e-this.x,2)+Math.pow(i-this.y,2),.5),0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.fill();break;case"line":this.ctx.lineTo(e,i);break}this.ctx.stroke();var o=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height);this.pathArray.push(o),this.idx+=1},onMouseMove:function(t){!0===this.isDrawing&&("brush"===this.tool?this.draw(t,this.color):"eraser"===this.tool&&this.draw(t,"#fff"))},draw:function(t,e){var i=t.clientX-this.rect.left,o=t.clientY-this.rect.top;this.isDrawing&&(this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y),this.ctx.lineWidth=this.size,this.ctx.lineCap="round",this.ctx.strokeStyle=e,this.ctx.lineTo(i,o),this.ctx.stroke(),this.x=i,this.y=o)},clear:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.pathArray=[],this.idx=-1},undo:function(){this.idx<=0?this.clear():(this.idx-=1,this.pathArray.pop(),this.ctx.putImageData(this.pathArray[this.idx],1,1))},saveImgs:function(){var t=this.$refs.myCanvas,e=t.toDataURL();this.saveImg(e),this.$router.push({path:v["a"].Home})}}),mounted:function(){var t=this.$refs.myCanvas,e=null===t||void 0===t?void 0:t.getContext("2d");this.canvas=t,this.ctx=e,this.rect=t.getBoundingClientRect(),this.ctx.imageSmoothingEnabled=!1,this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}),x=m,g=(i("396f"),Object(d["a"])(x,o,s,!1,null,"48a0bede",null));e["default"]=g.exports},e823:function(t,e,i){t.exports=i.p+"img/rect.3a91de33.svg"}}]);
//# sourceMappingURL=create.a2269fcd.js.map